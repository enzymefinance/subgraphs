type GeneralInfo @entity {
  id: ID!
  depositorsCounterActive: Int! # takes into account only active stakers
  depositorsCounterOverall: Int! # takes into account also those who unstaked
  vaultsGav: BigDecimal! #GAV of stETH + ETH vaults
  updatedAt: Int!
}

type Comptroller @entity {
  id: ID!
  vault: Bytes!
}

type Deposit @entity {
  id: ID!
  initialTrancheAmounts: [BigDecimal!]! #stored for historical purposes
  trancheAmounts: [BigDecimal!]!
  createdAt: Int!
  updatedAt: Int!
  depositor: Depositor!
}

type Depositor @entity {
  id: Bytes!
  updatedAt: Int!
  createdAt: Int!
  amount: BigDecimal!
  shares: BigDecimal!
  deposits: [Deposit!]! @derivedFrom(field: "depositor")
  redemptions: [Redemption!]! @derivedFrom(field: "redeemer")
}

type Redemption @entity {
  id: ID!
  redeemer: Depositor!
  amounts: [BigDecimal!]!
  trancheIds: [Int!]!
  firstClaimAmount: BigDecimal!
  secondClaimAmount: BigDecimal!
  createdAt: Int!
}
